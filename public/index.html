<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <link rel="icon" href="%PUBLIC_URL%/favicon.ico" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <meta name="theme-color" content="#000000" />
  <meta name="description" content="Web site created using create-react-app" />
  <link rel="apple-touch-icon" href="%PUBLIC_URL%/logo192.png" />
  <link rel="manifest" href="%PUBLIC_URL%/manifest.json" />
  <title>React App</title>
</head>
<body>
  <noscript>You need to enable JavaScript to run this app.</noscript>
  <div id="root"></div>
  
  <script>
    window.watsonAssistantChatOptions = {
      integrationID: "fc9be192-71a5-4aff-b67e-0483e88587ab", // The ID of this integration.
      region: "us-south", // The region your integration is hosted in.
      serviceInstanceID: "3ca8f9f6-2939-454e-abac-05827adcf076", // The ID of your service instance.
      onLoad: function(instance) { instance.render(); }
    };

    window.addEventListener('load', function() {
      setTimeout(function() {
        try {
          const t = document.createElement('script');
          t.src = "https://web-chat.global.assistant.watson.appdomain.cloud/versions/" + (window.watsonAssistantChatOptions.clientVersion || 'latest') + "/WatsonAssistantChatEntry.js";
          document.head.appendChild(t);
        } catch (error) {
          console.error('Failed to load Watson Assistant script:', error);
        }
      });
    });

    // Suppress the ResizeObserver loop limit exceeded error
    const resizeObserverErrorPolyfill = () => {
      try {
        const resizeObserverErrDiv = document.createElement('div');
        resizeObserverErrDiv.id = 'resizeObserverErrDiv';
        resizeObserverErrDiv.style.display = 'none';
        document.body.appendChild(resizeObserverErrDiv);
        const RO = new ResizeObserver(() => {
          const errDiv = document.getElementById('resizeObserverErrDiv');
          if (errDiv) {
            errDiv.style.display = 'block';
            document.body.removeChild(errDiv);
          }
        });
        RO.observe(document.body);
      } catch (error) {
        console.error('Failed to suppress ResizeObserver error:', error);
      }
    };
    resizeObserverErrorPolyfill();
  </script>
</body>
</html>
